<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NewsAggregationPlus</title>
  <meta name="color-scheme" content="dark" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css" />
  <style>
    /* small inline tweaks so you don’t have to wait on CSS */
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#0f141b;color:#e6ebf0;margin:0}
    .wrap{max-width:1100px;margin:0 auto;padding:20px}
    header{position:sticky;top:0;background:#0f141b;z-index:20;padding:14px 0 10px}
    .title-row{display:flex;align-items:center;gap:12px}
    h1{font-size:32px;line-height:1.1;margin:0;font-weight:800;letter-spacing:.2px}
    .unit-toggle{margin-left:auto;border-radius:999px;border:1px solid #243041;background:#121924;padding:6px 9px;font-weight:600}
    .updated{margin-left:10px;opacity:.8;font-size:13px;white-space:nowrap}
    /* ensure the “Updated” sits well to the right on mobile */
    @media (max-width: 480px){
      .title-row{gap:8px}
      h1{font-size:26px}
      .unit-toggle{margin-left:8px}
      .updated{margin-left:auto}
    }

    .grid{display:grid;grid-template-columns:1fr;gap:16px}
    @media (min-width: 860px){
      .grid-2{grid-template-columns:1fr 1fr}
    }
    .card{background:#121924;border:1px solid #202a36;border-radius:14px;padding:18px}
    .card h2{margin:0 0 8px 0;font-size:22px}
    .meta-row{display:flex;justify-content:space-between;opacity:.8;font-size:14px;margin-top:-2px}
    .big-temp{font-size:72px;font-weight:800;margin:8px 0}
    .muted{opacity:.8}
    ul.list{margin:10px 0 0 20px;padding:0}
    ul.list li{margin:8px 0}
    .right{float:right}
    .pill{border:1px solid #243041;background:#0f141b;border-radius:10px;padding:6px 10px;font-size:13px;opacity:.85}
    .grid-3{display:grid;grid-template-columns:1fr;gap:12px}
    @media (min-width: 680px){.grid-3{grid-template-columns:repeat(3,1fr)}}
    .kpi{background:#0f141b;border:1px solid #243041;border-radius:12px;padding:14px}
    .kpi .label{opacity:.8;font-size:12px}
    .kpi .value{font-size:22px;font-weight:700;margin-top:6px}
    footer{opacity:.7;font-size:13px;padding:28px 0}
    a{color:#91b6ff;text-decoration:none}
    a:hover{text-decoration:underline}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title-row">
        <h1>NewsAggregationPlus</h1>
        <button id="unitToggle" class="unit-toggle">°F</button>
        <div id="lastUpdated" class="updated">Updated —</div>
      </div>
    </header>

    <!-- WEATHER -->
    <section class="card" id="weatherCard">
      <div class="meta-row">
        <h2>Local Weather</h2>
        <div class="muted" id="weatherLocation">Your area</div>
      </div>
      <div class="big-temp" id="currentTemp">--°</div>
      <div class="muted">H: <span id="highTemp">--°</span> &nbsp; L: <span id="lowTemp">--°</span> &nbsp; <span id="winds">Winds --</span></div>
    </section>

    <!-- NEWS + REDDIT -->
    <section class="grid grid-2">
      <div class="card" id="usNews">
        <div class="meta-row">
          <h2>U.S. News</h2>
          <div class="muted">United States</div>
        </div>
        <ul class="list" id="usNewsList"></ul>
      </div>
      <div class="card" id="redditPopular">
        <div class="meta-row">
          <h2>Reddit — r/popular</h2>
          <a class="pill" target="_blank" rel="noopener" href="https://www.reddit.com/r/popular/">Open</a>
        </div>
        <ul class="list" id="redditList"></ul>
      </div>
    </section>

    <!-- TIKTOK + MARKETS -->
    <section class="grid grid-2">
      <div class="card" id="tiktokCard">
        <div class="meta-row">
          <h2>TikTok — Trending</h2>
          <a class="pill" target="_blank" rel="noopener" href="https://www.tiktok.com/discover">Open</a>
        </div>
        <ul class="list" id="tiktokList"><li class="muted">Loading…</li></ul>
      </div>
      <div class="card" id="marketsCard">
        <div class="meta-row">
          <h2>Markets</h2>
          <div class="muted">Indexes</div>
        </div>
        <div class="grid-3">
          <div class="kpi">
            <div class="label">S&amp;P 500</div>
            <div class="value" id="spxVal">N/A</div>
            <div class="muted" id="spxChg">—</div>
          </div>
          <div class="kpi">
            <div class="label">Dow 30</div>
            <div class="value" id="djiaVal">N/A</div>
            <div class="muted" id="djiaChg">—</div>
          </div>
          <div class="kpi">
            <div class="label">Nasdaq 100</div>
            <div class="value" id="ndxVal">N/A</div>
            <div class="muted" id="ndxChg">—</div>
          </div>
        </div>
      </div>
    </section>

    <!-- AI DEVELOPMENTS -->
    <section class="card" id="aiDev">
      <div class="meta-row">
        <h2>AI Developments (Last 30 Days)</h2>
      </div>
      <ul class="list" id="aiList"></ul>
    </section>

    <footer class="wrap">
      Weather by Open-Meteo. RSS via Vercel API route proxy. Markets via Stooq. Reddit via JSON. TikTok via RSS proxy.
    </footer>
  </div>

  <script src="./script.js" defer></script>
</body>
</html>
